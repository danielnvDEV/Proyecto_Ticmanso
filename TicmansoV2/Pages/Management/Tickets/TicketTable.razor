@using System.Net.Http.Json
@using TicmansoV2.Shared
@using Microsoft.AspNetCore.Authorization;
@using Microsoft.AspNetCore.Components.Authorization
@using System.Security.Claims
@using System.IdentityModel.Tokens.Jwt;
@using MudBlazor
@using TicmansoV2.Shared.Views;
@using TicmansoV2.Pages.Management.Tickets.Admin
@using TicmansoV2.Pages.Management.Tickets.User

@inject NavigationManager NavManager
@inject HttpClient httpClient
@attribute [Authorize]

@page "/tickets"

<PageTitle>Tickets</PageTitle>

<AuthorizeView Roles="Admin">
    <Authorized>
        <TicketTableByAdmin/>
    </Authorized>
    <NotAuthorized>
        @{
            NavManager.NavigateTo("/");
        }
    </NotAuthorized>
</AuthorizeView>
<AuthorizeView Roles="User">
    <Authorized>
        <MyTickets/>
    </Authorized>
    <NotAuthorized>
        @{
            NavManager.NavigateTo("/");
        }
    </NotAuthorized>
</AuthorizeView>
